<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Quản lý học sinh — Student Manager</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <header>
      <h1>Quản lý học sinh</h1>
      <p>Thêm / Sửa / Xóa / Nhập / Xuất danh sách học sinh</p>
    </header>

    <main>
      <section class="card">
        <h2>Form học sinh</h2>
        <div style="display:flex;gap:0.6rem;flex-wrap:wrap;align-items:flex-end">
          <div style="flex:1">
            <label for="name">Tên</label>
            <input id="name" type="text" placeholder="Tên học sinh" />
          </div>
          <div style="width:100px">
            <label for="math">Toán</label>
            <input id="math" type="number" min="0" max="10" step="0.1" />
          </div>
          <div style="width:100px">
            <label for="physics">Lý</label>
            <input id="physics" type="number" min="0" max="10" step="0.1" />
          </div>
          <div style="width:100px">
            <label for="chemistry">Hóa</label>
            <input id="chemistry" type="number" min="0" max="10" step="0.1" />
          </div>

          <div>
            <button id="addBtn">Thêm học sinh</button>
          </div>

          <div style="margin-left:auto; display:flex; gap:0.5rem; align-items:center">
            <button id="btnTheme">Theme</button>
            <button id="btnClearAll">Xóa toàn bộ</button>
          </div>
        </div>
      </section>

      <section class="card top">
        <h2>Tìm kiếm & bộ lọc</h2>
        <div class="controls">
          <input id="searchInput" type="search" placeholder="Tìm theo tên..." />
          <select id="filterRank">
            <option value="">Tất cả xếp loại</option>
            <option value="Giỏi">Giỏi</option>
            <option value="Khá">Khá</option>
            <option value="Trung Bình">Trung Bình</option>
            <option value="Yếu">Yếu</option>
          </select>

          <button id="sortName">Sắp xếp tên</button>
          <button id="sortAvg">Sắp xếp trung bình giảm dần</button>

          <label style="display:inline-flex;align-items:center;gap:0.4rem">
            <input id="importFile" type="file" accept=".csv" /> Import CSV
          </label>

          <button id="btnCSV">Xuất CSV</button>
          <button id="btnTXT">Xuất TXT</button>
        </div>
      </section>

      <section class="card top">
        <h2>Danh sách học sinh</h2>
        <div style="overflow:auto">
          <table id="studentTable" style="width:100%">
            <thead>
              <tr>
                <th>Tên</th>
                <th>Toán</th>
                <th>Lý</th>
                <th>Hóa</th>
                <th>Trung bình</th>
                <th>Xếp loại</th>
                <th>Hành động</th>
              </tr>
            </thead>
            <tbody>
              <!-- Rows sẽ được render bằng JS -->
            </tbody>
          </table>
        </div>
      </section>

      <section class="card top">
        <h2>Thống kê</h2>
        <div class="stats">
          <div>
            <strong>Tổng học sinh:</strong> <span id="totalStudents">0</span>
          </div>
          <div>
            <strong>Trung bình cả lớp:</strong> <span id="avgAll">0.00</span>
          </div>
          <div style="grid-column:1/-1">
            <div class="prog-row"><label>Giỏi</label><progress id="pExcellent" max="100" value="0"></progress><span id="nExcellent">0 (0%)</span></div>
            <div class="prog-row"><label>Khá</label><progress id="pGood" max="100" value="0"></progress><span id="nGood">0 (0%)</span></div>
            <div class="prog-row"><label>Trung Bình</label><progress id="pAverage" max="100" value="0"></progress><span id="nAverage">0 (0%)</span></div>
            <div class="prog-row"><label>Yếu</label><progress id="pWeak" max="100" value="0"></progress><span id="nWeak">0 (0%)</span></div>
          </div>
        </div>

        <div class="charts top">
          <div style="flex:1;min-width:320px">
            <canvas id="barChart"></canvas>
          </div>
          <div style="flex:1;min-width:320px">
            <canvas id="pieChart"></canvas>
          </div>
        </div>

        <div id="topStudents" class="top"></div>
      </section>
    </main>

    <footer>
      <p>File HTML tạo bởi ChatGPT — Dán mã TypeScript của bạn vào <code>app.ts</code> và biên dịch sang <code>app.js</code> hoặc chuyển mã JS tương ứng vào <code>app.js</code>.</p>
    </footer>

    <!-- Chart.js (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- YOUR APP SCRIPT -->
    <!-- Nếu bạn đang dùng TypeScript: biên dịch file .ts (mã bạn gửi) thành app.js và đặt cùng thư mục -->
    <script type="module" src="app.js"></script>
  </body>
</html>
